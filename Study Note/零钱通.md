# 零钱通

### 一.面向过程

### 1.菜单

```java

            System.out.println("         ======零钱通======");
            System.out.println("\t\t\t1 零钱通明细");
            System.out.println("\t\t\t2 收益入帐");
            System.out.println("\t\t\t3 消费");
            System.out.println("\t\t\t4 退   出");

            System.out.println("请选择（1-4）");
   
```



### 2.明细

```java
//2.完成零钱通明细
String detsils="------------零钱通明细---------------";//用字符串拼接

 case "1":
                    System.out.println(detsils);
                    break;
```



### 3.收益

```java
//3.完成收益入账
double money=0;
        double balance=0;
        Date date=null;//date 表示日期
        SimpleDateFormat sdf=new SimpleDateFormat("yyyy-MM-dd HH:mm");//可以用于日期格式化
```

```java
case "2":
    System.out.println("收益入账金额");
    money=scanner.nextDouble();
    //money的值范围应该校验
    balance+=money;
    date=new Date();//获取当前日期
    //拼接收益入账信息到 details
    detsils+="\n收益入账\t"+money+"\t"+sdf.format(date)+"\t"+balance;
    break;
```



### 4.消费

```java
//4.消费
String note="";

case "3":
                    System.out.println("消费金额");
                    money = scanner.nextDouble();
                    //money的值范围应该校验
                    System.out.println("消费说明");
                    note = scanner.next();
                    balance -= money;
                    date = new Date();//获取当前日期
                    //拼接消费信息到 details
                    detsils += "\n" + note + "\t-" + money + "\t" + sdf.format(date) + "\t" + balance;
                    break;
```

### 5.总代码

```java
package com.SmallChange;

import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.Scanner;

public class SmallChangeSys {
    public static void main(String[] args) {
        boolean loop = true;
        Scanner scanner = new Scanner(System.in);
        String key = "";

        //2.完成零钱通明细
        String detsils = "------------零钱通明细---------------";

        //3.完成收益入账
        double money = 0;
        double balance = 0;
        Date date = null;//date 表示日期
        SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd HH:mm");//可以用于日期格式化

        //4.消费
        String note = "";
        do {
            System.out.println("\n================零钱通菜单==================");
            System.out.println("\t\t\t1 零钱通明细");
            System.out.println("\t\t\t2 收益入帐");
            System.out.println("\t\t\t3 消费");
            System.out.println("\t\t\t4 退   出");

            System.out.println("请选择（1-4）");
            key = scanner.next();
            //使用switch 分支控制
            switch (key) {
                case "1":
                    System.out.println(detsils);
                    break;
                case "2":
                    System.out.println("收益入账金额");
                    money = scanner.nextDouble();
                    //money的值范围应该校验
                    balance += money;
                    date = new Date();//获取当前日期
                    //拼接收益入账信息到 details
                    detsils += "\n收益入账\t" + money + "\t" + sdf.format(date) + "\t" + balance;
                    break;
                case "3":
                    System.out.println("消费金额");
                    money = scanner.nextDouble();
                    //money的值范围应该校验
                    System.out.println("消费说明");
                    note = scanner.next();
                    balance -= money;
                    date = new Date();//获取当前日期
                    //拼接消费信息到 details
                    detsils += "\n" + note + "\t-" + money + "\t" + sdf.format(date) + "\t" + balance;
                    break;
                case "4":
                    System.out.println("4 退  出");
                    loop = false;
                    break;
                default:
                    System.out.println("选择有误，请重新选择");
            }
        } while (loop);
        System.out.println("----------退出零钱通项目------------");
    }
}

```

#### **注释：**

##### `case "2"` 和 `case "3"` 中的 `break`

在 `switch` 语句里，`case "2"` 和 `case "3"` 中的 `break` 语句，其作用是终止当前的 `switch` 语句块，而不是跳出外部的 `do-while` 循环。`switch` 语句中的 `break` 专门用于结束当前 `switch` 分支的执行，让程序流跳出 `switch` 结构，接着执行 `switch` 语句之后的代码，也就是继续执行 `do-while` 循环体里后续的代码。



##### 总结

- `break` 语句在 `switch` 结构里，用于终止 `switch` 语句块的执行。
- `break` 语句在循环结构里，仅能跳出当前所在的循环。若要跳出多层嵌套循环，可使用带标签的 `break` 语句。



要是你想直接跳出 `do-while` 循环，可以使用带标签的 `break` 语句：  break outerLoop; // 带标签的break，直接跳出do-while循环





### 6.改进项目

![](C:\Users\24709\AppData\Roaming\Typora\typora-user-images\image-20250501170201585.png)

```java
                case "2":
                    System.out.println("收益入账金额");
                    money = scanner.nextDouble();
                    //money的值范围应该校验
                    if (money<=0){
                        System.out.println("收益金额需要大于0");
                        break;
                    }
                    balance += money;
                    date = new Date();//获取当前日期
                    //拼接收益入账信息到 details
                    detsils += "\n收益入账\t" + money + "\t" + sdf.format(date) + "\t" + balance;
                    break;

                case "3":
                    System.out.println("消费金额");
                    money = scanner.nextDouble();
                    //money的值范围应该校验
                    if (money<=0||money>balance){
                        System.out.println("消费金额应该在0-"+balance);
                        break;
                    }
                    System.out.println("消费说明");
                    note = scanner.next();
                    balance -= money;
                    date = new Date();//获取当前日期
                    //拼接消费信息到 details
                    detsils += "\n" + note + "\t-" + money + "\t" + sdf.format(date) + "\t" + balance;
                    break;

                case "4":
                    String choice = "";
                    //接收输入
                    while (true) {
                        System.out.println("你确定要退出吗？ y/n");
                        choice = scanner.next();
                        if ("y".equals(choice) || "n".equals(choice)) {
                            break;
                        }
                    }//保证输入必须为y或n

                    if ("y".equals(choice)) {
                        loop = false;
                    }
                    break;
```





## 二.面向对象

![image-20250501201136603](C:\Users\24709\AppData\Roaming\Typora\typora-user-images\image-20250501201136603.png)



```java
package com.SmallChange.oop;

//调用
public class SmallChangeSysApp {
    public static void main(String[] args) {
        System.out.println("----------------hello公司-----------------");
        SmallChangeSysOOP smallChangeSysOOP = new SmallChangeSysOOP();
        smallChangeSysOOP.mainMenu();
    }
}

//OOP
package com.SmallChange.oop;

import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.Scanner;

/**
 * 该类是完成零钱通的各个功能的类
 * 使用OOP（面向对象编程）
 * 将各个功能对应一个方法
 */
public class SmallChangeSysOOP {
    boolean loop = true;
    Scanner scanner = new Scanner(System.in);
    String key = "";

    //2.完成零钱通明细
    String detsils = "------------零钱通明细---------------";

    //3.完成收益入账
    double money = 0;
    double balance = 0;
    Date date = null;//date 表示日期
    SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd HH:mm");//可以用于日期格式化

    //4.消费
    String note = "";


    //先完成显示菜单，并可以选择
    public void mainMenu(){
        do {
            System.out.println("\n================零钱通菜单==================");
            System.out.println("\t\t\t1 零钱通明细");
            System.out.println("\t\t\t2 收益入帐");
            System.out.println("\t\t\t3 消费");
            System.out.println("\t\t\t4 退   出");

            System.out.println("请选择（1-4）");
            key = scanner.next();
            //使用switch 分支控制
            switch (key) {
                case "1":
                    this.detail();
                    break;
                case "2":
                    this.income();
                    break;
                case "3":
                   this.pay();
                    break;
                case "4":
                    this.exit();
                    break;
                default:
                    System.out.println("选择有误，请重新选择");
            }
        } while (loop);
    }
    
    //完成零钱通明细
    public void detail(){
        System.out.println(detsils);
    }
    
    //完成收益入账
    public void income(){
        System.out.println("收益入账金额");
        money = scanner.nextDouble();
        //money的值范围应该校验
        if (money<=0){
            System.out.println("收益金额需要大于0");
            return;//退出方法，不再执行后面的代码
        }
        balance += money;
        date = new Date();//获取当前日期
        //拼接收益入账信息到 details
        detsils += "\n收益入账\t" + money + "\t" + sdf.format(date) + "\t" + balance;
    }
    //完成消费
    public void pay(){
        System.out.println("消费金额");
        money = scanner.nextDouble();
        //money的值范围应该校验
        if (money<=0||money>balance){
            System.out.println("消费金额应该在0-"+balance);
            return;
        }
        System.out.println("消费说明");
        note = scanner.next();
        balance -= money;
        date = new Date();//获取当前日期
        //拼接消费信息到 details
        detsils += "\n" + note + "\t-" + money + "\t" + sdf.format(date) + "\t" + balance;
    }
    //退出
    public void exit(){
        String choice = "";
        //接收输入
        while (true) {
            System.out.println("你确定要退出吗？ y/n");
            choice = scanner.next();
            if ("y".equals(choice) || "n".equals(choice)) {
                break;
            }
        }//保证输入必须为y或n

        if ("y".equals(choice)) {
            loop = false;
        }
    }
}

```


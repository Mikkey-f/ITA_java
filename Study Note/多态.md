# 多态

## 一.介绍

Java 中的多态是面向对象编程的重要特性，指同一接口被不同类型对象使用时呈现不同行为。它主要有静态多态（编译时多态 ）和动态多态（运行时多态）两种形式，具体如下：

### 静态多态：

**定义：**在同一个类中，允许存在多个同名方法，只要它们的参数列表（参数个数、类型、顺序）不同。编译器根据调用方法时实际传入的参数类型和数量，在编译阶段就确定调用哪个方法 。

**示例：**

```java
class Calculator {
    int add(int a, int b) {
        return a + b;
    }
    double add(double a, double b) {
        return a + b;
    }
    int add(int a, int b, int c) {
        return a + b + c;
    }
}
```



### 动态多态：

- 实现条件
  - **继承**：存在子类继承父类的关系 。
  - **重写**：子类对父类中某些方法进行重写，即子类提供与父类方法名、参数列表、返回类型（协变返回类型情况除外）完全相同的方法实现 。
  - **向上转型**：用子类对象赋值给父类引用，如`Animal animal = new Dog();` （`Dog`是`Animal`子类 ） 。
- **运行机制**：当通过父类引用调用被重写的方法时，实际执行的是子类重写后的方法，这是在运行时根据对象实际类型确定的，即动态绑定 。





## 二.具体体现

![image-20250428201218440](C:\Users\24709\AppData\Roaming\Typora\typora-user-images\image-20250428201218440.png)

![image-20250428201758486](C:\Users\24709\AppData\Roaming\Typora\typora-user-images\image-20250428201758486.png)

```java
public class Animal {
    public void cry(){
        System.out.println("动物在叫唤.....");
    }
}

public class Cat extends Animal {
    @Override
    public void cry() {
        System.out.println("Cat cry() 小猫喵喵叫");
    }
}

public class Dog extends Animal {
    @Override
    public void cry() {
        System.out.println("Dog cry()  小狗汪汪叫");
    }
}

public class polyobject {
    public static void main(String[] args) {
        //体验对象多态的特点

        Animal animal=new Dog();
        //animal的编译类型是Animal，运行类型为Dog
        animal.cry();
        //运行时，animal的运行类型为Dog，所有cry是Dog的cry
        //输出小狗汪汪叫
        animal=new Cat();
        animal.cry();
        //输出小猫喵喵叫
    }
}
```



## 三.快速入门

```java

//主人给小狗喂食骨头
    public void feed(Dog dog,Bone bone){
        System.out.println("主人"+name+"给"+dog.getName()+"喂食"+bone.getName());
    }

    //主人给小猫喂食鱼
    public void feed(Cat cat,Fish fish){
        System.out.println("主人"+name+"给"+cat.getName()+"喂食"+fish.getName());
    }

    //使用多态可以统一管理主人喂食物的问题
    //animal的编译类型是Animal，可以指向（接收）Animal子类的对象
    //food的编译类型是Food，可以指向（接收）Food子类的对象
    public void feed(Animal animal,Food food){
        System.out.println("主人"+name+"给"+animal.getName()+"喂食"+food.getName());
    }
```

